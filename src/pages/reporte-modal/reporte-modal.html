<!--
  Generated template for the ReporteModalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content id="reporte_identifier">
    <div class="modal_closer"  (click)="this.dismiss();">Volver</div>
  <div class="reporte_header">
<div class="modalPage_header">
  <div class="modalPage_logo"><img src="assets/imgs/reportes.svg"/></div>
  <div class="modalPage_title">
    <span class="spanBlock midFont"><b>Resumen Diaro</b></span>
    <span class="spanBlock midSubFont">Resumen de tu actvidad durante el día de hoy</span>
  </div>
  </div>
  <div class="modalPage_toolbar">
      <div class="info_tool" *ngIf="!userData.checkUserPermission([userData.TIPO_DOCTOR])">
          <span class="spanBlock midFont"><b>Alias</b></span>
          <span class="spanBlock fonHigh midFont">Alias</span>
        </div>
        <div class="info_tool" *ngIf="!userData.checkUserPermission([userData.TIPO_DOCTOR])">
            <!--<span class="spanBlock midFont"><b>No.</b></span>-->
            <!--span class="spanBlock midFont"><b>01</b></span>-->
          </div>
          <div class="info_tool">
              <span class="spanBlock midFont"><b>Fecha</b></span>
              <span class="spanBlock fontSecondary midFont">{{this.reportPresentator.actualReport.dateString}}</span>
            </div>
    <button class="bgColorSecondary generalButton" (click)="generatePDF()" >Exportar</button>
  </div>
  </div>

<div class="ReportGrid">
<div class="ReporteRow" *ngFor="let cita of this.reportPresentator.actualReport.citas">
  <div class="ReporteRow_head">
    <span class="rbh_span midFont"> <b [ngStyle]="{'color':cita.stateColor}">{{cita.getStateString()}}</b> </span>
    <span class="rbh_span midFont"><b>Paciente:</b>{{cita.paciente}}</span>
    <span class="rbh_span midFont" *ngIf="!userData.checkUserPermission([userData.TIPO_DOCTOR])"><b>Doctor:</b> {{cita.doctor_name}}</span>
    <span class="rbh_span midFont"><b>Duración</b> <span class="fontHigh">{{cita.duracionText}}</span></span>
    <!--<span class="rbh_span_toolbar">
        <img src="assets/imgs/editar.svg" class="drap_edit_icon" />
        <button class="bgColorPrimary generalButton">Eliminar</button>
    </span>-->
  </div>
  <div class="ReporteRow_Services">
    <b class="rpr_service midFont"> Servicios </b>
    <span *ngFor="let servicio of cita.reporteServicios" class="rpr_service midFont"> {{servicio.title}} <span class="fontSecondary">${{servicio.costo}}</span></span>
  </div>
  <div class="ReporteRow_Totals">
    <div class="rrt_left midFont"> <b>Costo</b> <span class="fontPrimary">${{cita.costo}}</span> </div>
    
    <div class="rrt_right midFont" *ngIf="cita.costo > cita.cobro"> <b>Cobro</b> Total <span class="fontPrimary">${{cita.cobro}}</span> </div>
    <div class="rrt_right midFont" *ngIf="cita.costo > cita.cobro"> <b>Adeudo</b> <span class="fontPrimary">${{cita.costo - cita.cobro}}</span> </div>
    <div class="rrt_right midFont"  *ngIf="cita.costo <= cita.cobro"> <b>Ingreso</b> Total <span class="fontSecondary">${{cita.cobro}}</span> </div>
    <div class="rrt_right midFont">  Efectivo <span class="fontSecondary">${{cita.cobroEfectivo}}</span> </div>
    <div class="rrt_right midFont">  Tarjeta <span class="fontSecondary">${{cita.cobroTarjeta}}</span> </div>
    <div class="rrt_right midFont">  Cheque <span class="fontSecondary">${{cita.cobroCheque}}</span> </div>
    <div class="rrt_right midFont">  Facturado ${{cita.facturado}}</div>
  </div>
</div>
</div>
<div class="ReportesTotales">
  <div class="resumen_totales">
    <span class="totalespan midFont"><b>Citas Totales:</b> <span class="fontSecondary">{{reportPresentator.noCitas}}</span></span>
    <span class="totalespan midFont"><b>Citas Canceladas:</b> <span class="fontPrimary">{{reportPresentator.noCancel}}</span></span>
    <!--<span class="totalespan midFont"><b>No Show:</b> <span class="fontPrimary">{{reportPresentator.noShow}}</span></span>-->
    <span class="totalespan midFont"><b>Duración Total:</b> <span class="fontHigh">{{reportPresentator.duracionTotalStr}}</span></span>
  </div>
  <div class="Totales_Ingreso">
      <span class="toin_span midFont"><b>Costo Total<span class="fontPrimary">${{reportPresentator.costoTotal}}</span></b></span>
  </div>
  
  <div class="Totales_Caja">
      <span class="toin_span midFont"><b>ingreso Total<span class="fontSecondary">${{reportPresentator.total}}</span></b></span>
      <span class="toin_span midSubFont">Efectivo:<span class="fontSecondary">${{reportPresentator.totalefectivo}}</span></span>
      <span class="toin_span midSubFont">Tarjeta:<span class="fontSecondary">${{reportPresentator.totalTarjeta}}</span></span>
      <span class="toin_span midSubFont">Cheques:<span class="fontSecondary">${{reportPresentator.totalCheques}}</span></span>
      <span class="toin_span midSubFont">Facturado:<span class="fontSecondary">${{reportPresentator.facturadoTotal}}</span></span>
      <!--<span class="toin_span midSubFont">Cuentas por cobrar:<span class="fontPrimary">${{this.reportPresentator.cajacuentas}}</span></span>-->
      <span class="toin_span midSubFont">Adeudo total:<span class="fontPrimary">${{this.reportPresentator.cajaAdeudo+this.reportPresentator.cajacuentas}}</span></span>  
  </div>
  
  <div class="servicios_totales">
    <div class="ticket_row midMainFont" *ngFor="let servres of reportPresentator.serviciosResume">{{servres.title}}:{{servres.times}}</div>
  </div>
</div>
</ion-content>
