{"version":3,"sources":["../../src/pages/progresocita-modal/progresocita-modal.module.ts","../../src/pages/progresocita-modal/progresocita-modal.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACa;AAU7D;IAAA;IAA0C,CAAC;IAA9B,2BAA2B;QARvC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,kFAAqB;aACtB;YACD,OAAO,EAAE;gBACP,8DAAe,CAAC,QAAQ,CAAC,kFAAqB,CAAC;aAChD;SACF,CAAC;OACW,2BAA2B,CAAG;IAAD,kCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZE;AAC+B;AACF;AACY;AACwB;AAC5C;AACH;AACc;AACqB;AACoB;AACrC;AACrB;AAQzD;IAGE,+BACS,OAAsB,EACtB,SAAoB,EACpB,QAA0B,EAC1B,MAAsB,EACtB,QAAwB,EACxB,KAAoB,EACpB,SAA4B,EAC5B,QAA8B,EAC9B,OAAqC,EACrC,gBAA0C,EAC1C,kBAAkD,EAClD,WAAgC,EAChC,KAAmB;QAZnB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAkB;QAC1B,WAAM,GAAN,MAAM,CAAgB;QACtB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,UAAK,GAAL,KAAK,CAAe;QACpB,cAAS,GAAT,SAAS,CAAmB;QAC5B,aAAQ,GAAR,QAAQ,CAAsB;QAC9B,YAAO,GAAP,OAAO,CAA8B;QACrC,qBAAgB,GAAhB,gBAAgB,CAA0B;QAC1C,uBAAkB,GAAlB,kBAAkB,CAAgC;QAClD,gBAAW,GAAX,WAAW,CAAqB;QAChC,UAAK,GAAL,KAAK,CAAc;IAG5B,CAAC;IAED,sBAAI,wDAAqB;aAAzB;YACE,MAAM,CAAC,2FAAiB,CAAC,qBAAqB,CAAC;QACjD,CAAC;;;OAAA;IAED,8CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,4BAA4B,EAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;IAC/E,CAAC;IAED,gDAAgB,GAAhB;QACI,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,CAAC;IAC3C,CAAC;IAEG,4CAAY,GAAZ;QAAA,iBAWC;QAVC,IAAI,CAAC,mBAAmB,EAAE,CAAC,IAAI,CAAE,cAAK,KAAI,CAAC,KAAK,EAAE,CAAC,EAAC,CAAC,CAAC;QAEtD;;;;;;;YAOI;IACN,CAAC;IAID,oDAAoB,GAApB,UAAqB,GAAG,EAAC,KAAK;QAC5B,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAC,GAAG,EAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,GAAG,EAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC/D,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACxB,CAAC;IAEK,mDAAmB,GAAzB;;;;;wBACE,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,EAAE,CAAC;wBAC9C,qBAAM,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAE,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,2FAAiB,CAAC,WAAW,CAAE;;wBAAnH,SAAmH,CAAC;;;;;KACrH;IAED,yCAAS,GAAT;QACE;;;WAGG;QAGH,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC,CAAC;QACvG,kDAAkD;QAClD,EAAE,EAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,EAAC;YAC9B,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,EAAC,2BAA2B,CAAC,CAAC;YAC7D,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QACD,kDAAkD;QAElD,EAAE,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,EAAG,CAAC,EAAC;YACvD,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,EAAC,iCAAiC,CAAC,CAAC;YACnE,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QACD,kDAAkD;QAElD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAC,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;QAC7E,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,GAAG,CAAE,CAAC,EAAC;YACzD,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,EAAC,wDAAwD,CAAC,CAAC;YAC1F,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QACD,kDAAkD;QAClD,EAAE,EACA,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,aAChF,CAAC,EAAC;YACA,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,EAAC,6DAA6D,CAAC,CAAC;YAC/F,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAGF,mDAAmD;QACnD;;;;;;;;;;;;;;YAcI;QACH,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC,CAAC;QACtG,IAAI,CAAC,eAAe,EAAE,CAAC;IACxB,CAAC;IAEK,+CAAe,GAArB;;;;;wBACE,OAAO,CAAC,GAAG,CAAC,uCAAuC,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC,CAAC;wBAC7G,IAAI,CAAC,kBAAkB,CAAC,eAAe,EAAE,CAAC;wBAC1C,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;wBAClE,qBAAM,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,2FAAiB,CAAC,gBAAgB,CAAE;;wBAAvH,SAAuH,CAAC;wBACxH,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC,CAAC;wBAC3G,IAAI,CAAC,KAAK,EAAE,CAAC;;;;;KACd;IAED,6CAAa,GAAb,UAAc,UAAkB;QAC/B,IAAI,SAAS,GAAG,2EAAY,CAAC,mBAAmB,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC/E,yBAAyB;QACzB,MAAM,CAAC,SAAS,CAAC,IAAI,GAAE,GAAG,GAAC,SAAS,CAAC,IAAI,CAAC;IAC3C,CAAC;IAED,wKAAwK;IACxK,mDAAmB,GAAnB;QACE,IAAI,GAAG,GAAG,IAAI,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QACtC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC,aAAa,KAAM,IAAI,CAAE,CAAC;QACrG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,IAAI,CAAC,kBAAkB,CAAC,YAAY,KAAK,IAAI,CAAE,CAAC;QAClG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,IAAI,CAAC,kBAAkB,CAAC,WAAW,KAAK,IAAI,CAAE,CAAC;QAChG,EAAE,EAAE,IAAI,CAAC,kBAAkB,CAAC,aAAa,KAAM,IAAI,IAAK,IAAI,CAAC,kBAAkB,CAAC,YAAY,KAAK,IAAI,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,KAAK,IAAK,CAAC,EAAC;YACtJ,OAAO,CAAC,GAAG,CAAC,YAAY,CAAG,CAAC;YAC5B,GAAG,GAAG,KAAK,CAAC;QACd,CAAC;QACD,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAED,8EAA8E;IAC9E,iDAAiB,GAAjB;QACE,IAAI,GAAG,GAAG,IAAI,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,CAAE,CAAC;QACnG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAE,CAAC;QAChG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC;QAC7F,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,GAAG,CAAC,IAAK,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,GAAG,CAAC,IAAK,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAC;YAC9J,GAAG,GAAG,KAAK,CAAC;QACd,CAAC;QACD,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAED,6CAAa,GAAb;QACE,IAAI,GAAG,GAAG,IAAI,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QACvC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,CAAE,CAAC;QACnG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAE,CAAC;QAChG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC;QAC7F,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,IAAM,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,IAAM,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAE,CAAC,EAAC;YAClJ,GAAG,GAAG,KAAK,CAAC;QACd,CAAC;QACD,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAMK,iDAAiB,GAAvB;;;;;wBACE,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;wBACjC,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,CAAC;wBAC3C,6CAA6C;wBAC7C,qBAAM,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,2FAAiB,CAAC,gBAAgB,CAAE;;wBADvH,6CAA6C;wBAC7C,SAAuH,CAAC;wBACxH,IAAI,CAAC,KAAK,EAAE,CAAC;;;;;KACd;IAEK,gDAAgB,GAAtB;;;;;wBACE,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;wBAChC,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,CAAC;wBAC3C,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,oBAAoB,CAAC,EAAE,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;wBAElL,qBAAM,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,WAAW,CAAE;;wBAAnI,SAAmI,CAAC;;;;;KAErI;IAED,2CAAW,GAAX,UAAa,KAAY;QACvB,MAAM,CAAC,2FAAiB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAC7C,CAAC;IAGF,qCAAK,GAAL;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IApMM,qBAAqB;QAJjC,gEAAS,CAAC;YACT,QAAQ,EAAE,yBAAyB;WACG;SACvC,CAAC;qEAK+B;YACX,wFAAS;YACV,iFAAgB;YAClB,6DAAc;YACZ,8EAAc;YACjB,2FAAa;YACT,oGAAiB;YAClB,4HAAoB;YACrB,iHAA4B;YACnB,oIAAwB;YACtB,iGAA8B;YACrC,6EAAmB;YACzB,YAAY;OAhBjB,qBAAqB,CAsMjC;IAAD,CAAC;AAAA;SAtMY,qBAAqB,gB","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ProgresocitaModalPage } from './progresocita-modal';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProgresocitaModalPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ProgresocitaModalPage),\r\n  ],\r\n})\r\nexport class ProgresocitaModalPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/progresocita-modal/progresocita-modal.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { UserDataProvider } from '../../providers/user-data/user-data';\r\nimport { CitasManagerProvider } from '../../providers/citas-manager/citas-manager';\r\nimport { NotificationsManagerProvider } from '../../providers/notifications-manager/notifications-manager';\r\nimport { LoaderProvider } from '../../providers/loader/loader';\r\nimport { AlertProvider } from '../../providers/alert/alert';\r\nimport { CitasDataProvider } from '../../providers/citas-data/citas-data';\r\nimport { CitasPresentatorProvider } from '../../providers/citas-presentator/citas-presentator';\r\nimport { CitaProgressControllerProvider } from '../../providers/cita-progress-controller/cita-progress-controller';\r\nimport { PermissionsProvider } from '../../providers/permissions/permissions';\r\nimport { DateProvider } from '../../providers/date/date';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-progresocita-modal',\r\n  templateUrl: 'progresocita-modal.html',\r\n})\r\nexport class ProgresocitaModalPage {\r\n \r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams, \r\n    public userData: UserDataProvider,\r\n    public loader: LoaderProvider,\r\n    public viewCtrl: ViewController,\r\n    public alert: AlertProvider,\r\n    public citasData: CitasDataProvider,\r\n    public citasMan: CitasManagerProvider,\r\n    public notiMan: NotificationsManagerProvider,\r\n    public citasPresentator: CitasPresentatorProvider,\r\n    public progressController: CitaProgressControllerProvider,\r\n    public permissions: PermissionsProvider,\r\n    public datep: DateProvider\r\n   \r\n  ) {\r\n  }\r\n\r\n  get SERVICIO_CORTESIA_NID(){\r\n    return CitasDataProvider.SERVICIO_CORTESIA_NID;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('Cita activa ionViewDidLoad',this.progressController.activeCita);\r\n  }\r\n\r\n  ionViewWillLeave(){\r\n      this.progressController.stopInterval();\r\n  }\r\n\r\n      finalizarPop(){\r\n        this.finalizarActualCita().then( ()=>{this.close();});\r\n       \r\n        /*let exmsg = '';\r\n        if(Number(this.progressController.activeCita.addedServices.length) === 0){ exmsg = 'Aun no se ha agregado ningún servicio a esta cita';}\r\n        this.alert.chooseAlert(\r\n          'Finalizar',\r\n          `Está seguro de que desea Finalizar la consulta? ${exmsg}`,\r\n          ()=>{ this.finalizarActualCita(); },\r\n          ()=>{}\r\n        );*/\r\n      }\r\n\r\n\r\n    \r\n      updateCheckedOptions(Nid,event){\r\n        console.log('updateCheckedOptions',Nid,event.checked);\r\n        this.progressController.updateCheckedOption(Nid,event.checked);\r\n        console.log('finish');\r\n      }\r\n\r\n      async finalizarActualCita(){\r\n        this.progressController.finalizarCitaActiva();\r\n        await this.citasPresentator.updateStateRequest( this.progressController.activeCita ,CitasDataProvider.STATE_COBRO );\r\n      }\r\n\r\n      pagadaPop(){\r\n        /*if( Number(this.progressController.CantidadRestante) === (Number(this.progressController.activeCita.costo))){\r\n          this.alert.presentAlert('Error','Introducir monto a pagar');\r\n          return false;\r\n        }*/\r\n\r\n        \r\n        console.log('pagadaPop start servicesCompare',JSON.stringify(this.progressController.servicesCompare));\r\n        //this.progressController.checkCobroStates('pp1');\r\n        if(!this.validarPagarNOEMPTY()){\r\n          this.alert.presentAlert('Error','Introducir monto a pagar.');\r\n          return false;\r\n        }\r\n        //this.progressController.checkCobroStates('pp2');\r\n\r\n        if( !this.validarPagarNONEG() || !this.validarNotNaN() ){\r\n          this.alert.presentAlert('Error','No se aceptan valores negativos');\r\n          return false;\r\n        }\r\n        //this.progressController.checkCobroStates('pp3');\r\n      \r\n        console.log('cantidad restante es',this.progressController.CantidadRestante);\r\n        if( Number(this.progressController.CantidadRestante) < 0 ){\r\n          this.alert.presentAlert('Error','Esta introduciendo un monto mayor al costo de la cita.');\r\n          return false;\r\n        }\r\n        //this.progressController.checkCobroStates('pp4');\r\n        if(\r\n          this.progressController.factura_cantidad > this.progressController.activeCita.restantePagos\r\n        ){\r\n          this.alert.presentAlert('Error','El monto facturado no puede exceder el total de la consulta');\r\n          return false;\r\n        }\r\n\r\n        \r\n       // this.progressController.checkCobroStates('pp5');\r\n       /* let title = 'Pagada';\r\n        let msg = '¿Está seguro de que desea marcar esta cita como pagada?';\r\n        \r\n        if(this.progressController.CantidadRestante > 0){\r\n          title = 'Cuidado';\r\n          msg = '¿Está seguro de que desea marcar esta cita como pagada con la cantidad insuficiente?';\r\n          this.alert.chooseAlert(\r\n            title,\r\n            msg,\r\n            ()=>{ this.pagarActualCita() },\r\n            ()=>{}\r\n          );\r\n        }else{\r\n          this.pagarActualCita();\r\n        }*/\r\n        console.log('pagadaPop end servicesCompare',JSON.stringify(this.progressController.servicesCompare));\r\n       this.pagarActualCita();\r\n      }\r\n\r\n      async pagarActualCita(){\r\n        console.log('pagarActualCita start servicesCompare',JSON.stringify(this.progressController.servicesCompare));\r\n        this.progressController.pagarCitaActiva();\r\n        console.log('pagarActualCita',this.progressController.activeCita);\r\n        await this.citasPresentator.updateStateRequest(this.progressController.activeCita ,CitasDataProvider.STATE_FINALIZADA );\r\n        console.log('pagarActualCita end servicesCompare',JSON.stringify(this.progressController.servicesCompare));\r\n        this.close();\r\n      }\r\n\r\n      getDateString(datenumber: number):String{\r\n       let aux_dates = DateProvider.getDisplayableDates(new Date(Number(datenumber)));\r\n       //console.log(aux_dates);\r\n       return aux_dates.date +' '+aux_dates.time;\r\n      }\r\n\r\n      //esta validacion revisa que si se meta algo en los campos de cobro caundo se paga la cita. si no se pone nada de nada te avisa que no le metiste nada woe que malo eres\r\n      validarPagarNOEMPTY():boolean{\r\n        let ret = true;\r\n        console.log('validarPagar ---------');\r\n        console.log(this.progressController.cobroEfectivo, this.progressController.cobroEfectivo  === null );\r\n        console.log(this.progressController.cobroTarjeta, this.progressController.cobroTarjeta === null );\r\n        console.log(this.progressController.cobroCheque, this.progressController.cobroCheque === null );\r\n        if( this.progressController.cobroEfectivo  === null &&  this.progressController.cobroTarjeta === null && this.progressController.cobroCheque === null ){\r\n          console.log('nopusonada'  );\r\n          ret = false;\r\n        }\r\n        return ret;\r\n      }\r\n\r\n      //esta validacion revisa que no se puedan meter numeros negativos en el cobro.\r\n      validarPagarNONEG():boolean{\r\n        let ret = true;\r\n        console.log('validarPagarNONEG ---------');\r\n        console.log(this.progressController.cobroEfectivo, Number(this.progressController.cobroEfectivo) );\r\n        console.log(this.progressController.cobroTarjeta,Number(this.progressController.cobroTarjeta) );\r\n        console.log(this.progressController.cobroCheque,Number(this.progressController.cobroCheque));\r\n        if( Number(this.progressController.cobroEfectivo) < 0 ||  Number(this.progressController.cobroTarjeta) < 0 ||  Number(this.progressController.cobroCheque) < 0){\r\n          ret = false;\r\n        }\r\n        return ret;\r\n      }\r\n\r\n      validarNotNaN(){\r\n        let ret = true;\r\n        console.log('validarNotNaN ---------');\r\n        console.log(this.progressController.cobroEfectivo, Number(this.progressController.cobroEfectivo) );\r\n        console.log(this.progressController.cobroTarjeta,Number(this.progressController.cobroTarjeta) );\r\n        console.log(this.progressController.cobroCheque,Number(this.progressController.cobroCheque));\r\n        if( isNaN(this.progressController.cobroEfectivo)  ||  isNaN(this.progressController.cobroTarjeta)  ||  isNaN(this.progressController.cobroCheque) ){\r\n          ret = false;\r\n        }\r\n        return ret;\r\n      }\r\n\r\n     \r\n\r\n  \r\n\r\n      async allsaveActualCita(){\r\n        console.log('allsaveActualCita');\r\n        this.progressController.updateCitaActiva();\r\n        //this.progressController.guardarEdiciones();\r\n        await this.citasPresentator.updateStateRequest(this.progressController.activeCita ,CitasDataProvider.STATE_FINALIZADA );\r\n        this.close();\r\n      }\r\n\r\n      async guardarEdiciones(){\r\n        console.log('guardarEdiciones');\r\n        this.progressController.updateCitaActiva();\r\n        console.log('check cita before sending',JSON.stringify(this.progressController.activeCita.data.field_ediciones_json), this.progressController.activeCita.data.aux_servicios_json);\r\n        \r\n        await this.citasPresentator.updateStateRequest(this.progressController.activeCita ,this.progressController.activeCita.stateNumber );\r\n        //this.close();\r\n      }\r\n\r\n      moneyFormat( money:number ): string {\r\n        return CitasDataProvider.moneyFormat(money);\r\n       }\r\n\r\n  \r\n      close(){\r\n        this.viewCtrl.dismiss();\r\n      }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/progresocita-modal/progresocita-modal.ts"],"sourceRoot":""}