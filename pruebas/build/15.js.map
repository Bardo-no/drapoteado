{"version":3,"sources":["../../src/pages/nuevousuario-modal/nuevousuario-modal.module.ts","../../src/pages/nuevousuario-modal/nuevousuario-modal.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { NuevousuarioModalPage } from './nuevousuario-modal';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NuevousuarioModalPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(NuevousuarioModalPage),\r\n  ],\r\n})\r\nexport class NuevousuarioModalPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nuevousuario-modal/nuevousuario-modal.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { userd, UserDataProvider } from '../../providers/user-data/user-data';\r\nimport { Debugger } from '../../providers/user-data/debugger';\r\nimport { DrupalUserManagerProvider } from '../../providers/drupal-user-manager/drupal-user-manager';\r\nimport { SubusersManagerProvider } from '../../providers/subusers-manager/subusers-manager';\r\nimport { LoaderProvider } from '../../providers/loader/loader';\r\nimport { AlertProvider } from '../../providers/alert/alert';\r\nimport { SubscriptionDataProvider } from '../../providers/subscription-data/subscription-data';\r\nimport { SubscriptionManagerProvider } from '../../providers/subscription-manager/subscription-manager';\r\nimport { TutorialProvider } from '../../providers/tutorial/tutorial';\r\nimport { WsMessengerProvider } from '../../providers/ws-messenger/ws-messenger';\r\nimport { PermissionsProvider } from '../../providers/permissions/permissions';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\n\r\n\r\n/**\r\n * Generated class for the NuevousuarioModalPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-nuevousuario-modal',\r\n  templateUrl: 'nuevousuario-modal.html',\r\n})\r\nexport class NuevousuarioModalPage {\r\n  initialpage = true;\r\n  newuser = false;\r\n  newUser:userd;\r\n  isnew:boolean;\r\n  checkpass:string;\r\n  newUserCode:string;\r\n  nextCode = false;\r\n  codeuser=false;\r\n  showerrors:boolean = false;\r\n  codeuserNP=false; //if tutorial user is gotten by code this disables password show\r\n\r\n  get subsLeft(){\r\n    return this.subsData.getSubAccountsLeft();\r\n  }\r\n\r\n  selectedUsersOptions: number = 0;\r\n\r\n  /*BANDERA, USUARIO AGREGADO*/\r\n  added_user:boolean = false;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public userData: UserDataProvider,\r\n    public subsData: SubscriptionDataProvider,\r\n    public subsManager: SubscriptionManagerProvider,\r\n    public viewCtrl: ViewController,\r\n    public userMan: DrupalUserManagerProvider,\r\n    public subusersManager: SubusersManagerProvider,\r\n    public loader: LoaderProvider,\r\n    public alert: AlertProvider,\r\n    public tutorial: TutorialProvider,\r\n    public wsMessenger: WsMessengerProvider,\r\n    public perm: PermissionsProvider\r\n\r\n  ) {\r\n    console.log('GETTING userd', navParams.get('userd'));\r\n    let aux_node = navParams.get('userd');\r\n    if(aux_node){\r\n      this.isnew = false;\r\n      this.newUser = SubusersManagerProvider.getEmptyUserd();\r\n      this.newUser = aux_node;\r\n      this.initialpage = false;\r\n      this.newuser = true;\r\n    }else{\r\n      this.isnew = true;\r\n      this.resetNewUser();\r\n    }\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss(this.added_user);\r\n  }\r\n\r\n  resetNewUser(){\r\n    this.newUser = SubusersManagerProvider.getEmptyUserd();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad NuevousuarioModalPage');\r\n    console.log('tutorialstates', this.tutorial.subaccountsleft,this.tutorial.isGroup,this.tutorial.isplanholder  );\r\n  }\r\n\r\n  selectOption( selected:number ){\r\n    this.selectedUsersOptions = Number(selected);\r\n    console.log('selected user option is',this.selectedUsersOptions);\r\n  }\r\n\r\n  checkSelectedOption(selected:number ){\r\n    return Number(this.selectedUsersOptions) === Number(selected);\r\n  }\r\n\r\n  isSelectedOption(){\r\n    return this.selectedUsersOptions !== 0;\r\n  }\r\n\r\n  userTutorialStart(){\r\n    console.log('start tutorial');\r\n    this.newuser= true; \r\n    this.initialpage=false;\r\n    this.tutorial.tutorial_users_selected_option = this.selectedUsersOptions;\r\n    console.log('selected option at tutorial start ', this.tutorial.tutorial_users_selected_option);\r\n    if(this.tutorial.tutorial_users_selected_option === TutorialProvider.TUTORIAL_USER_BOTH){\r\n      console.log();\r\n      this.newUser.field_tipo_de_usuario.und = [this.userData.TIPO_CAJA];\r\n      this.tutorial.tutorial_user_created_step = TutorialProvider.TUTORIAL_USER_STEP_CAJA ; \r\n    }else if(this.tutorial.tutorial_users_selected_option === TutorialProvider.TUTORIAL_USER_CODE){\r\n      console.log('agregando usuarios por codigo');\r\n      this.codeuser = true;\r\n      this.newuser= false; \r\n      //this.nextCode = true;\r\n    }else{\r\n      this.newUser.field_tipo_de_usuario.und = [this.userData.TIPO_CAJAYRECEPCION];\r\n    }\r\n  }\r\n\r\n  nextUser(){ //despues de crear caja se crea recepcion, se reinician las variables para manipular el template.\r\n    if(this.tutorial.tutorial_users_selected_option === TutorialProvider.TUTORIAL_USER_CODE){\r\n      this.newuser = false;\r\n      this.codeuser = true;\r\n      this.nextCode = true;\r\n      this.initialpage=false;\r\n      this.tutorial.usuarioCreated = false;\r\n      this.restart();\r\n      this.newUser.field_tipo_de_usuario.und = [this.userData.TIPO_RECEPCION];\r\n    }else{\r\n      this.newuser = true;\r\n      this.initialpage=false;\r\n      this.tutorial.usuarioCreated = false;\r\n      this.tutorial.tutorial_user_created_step = TutorialProvider.TUTORIAL_USER_STEP_RECEPCION;\r\n      this.restart();\r\n      this.newUser.field_tipo_de_usuario.und = [this.userData.TIPO_RECEPCION];\r\n    }\r\n  }\r\n\r\n  checkIfgoback(){\r\n    let ret = true;\r\n    if( Number(this.tutorial.tutorial_user_created_step) === Number(TutorialProvider.TUTORIAL_USER_STEP_RECEPCION) ) ret = false;\r\n    if( this.nextCode  ) ret = false;\r\n    //console.log('checkIfgoback',ret, 'nextcode',this.nextCode);\r\n    return ret;\r\n  }\r\n\r\n  endUsers(){\r\n    this.tutorial.usuarioCreated = true;\r\n    this.dismiss();\r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n\r\n  createUserd(){\r\n    this.showerrors = false;\r\n   if(this.createrNotEmptyValidation() && this.createUserValidation()){\r\n    this.loader.presentLoader('Generando Usuario ... ');\r\n    //agregar este doctor.\r\n    this.newUser.field_doctores.und = new Array(); \r\n    this.newUser.field_owner.und = new Array();\r\n    this.newUser.field_doctores.und[this.userData.userData.uid] = this.userData.userData.uid;\r\n    this.newUser.field_owner.und[0] = this.userData.userData.uid;   //crear codigo, verificar que sea unique = S\r\n    this.newUser.field_codigo.und[0].value = \"add\"+this.userData.userData.uid;\r\n    this.newUser.field_nombre.und[0].value = \"Subusuario\";\r\n    this.newUser.field_apellidos.und[0].value = \"Subusuario\";\r\n    this.newUser.field_nombre.und[0].value = this.checkpass;\r\n    this.newUser.status = \"\"+1;\r\n    delete this.newUser.field_sub_id;\r\n    this.userMan.generateNewUserd( this.newUser ).subscribe(\r\n    async (val)=>{\r\n      console.log('generated user now what',val);\r\n      console.log('subsisgrouo',this.subsData.isGroup);\r\n      if(!this.subsData.subscription.field_subusuarios) this.subsData.subscription.field_subusuarios = new Array();\r\n      this.subsData.subscription.field_subusuarios.push(val['uid']);\r\n      let obs = this.subsManager.updateUserSuscription().subscribe( (val)=>{console.log('updating subs',val);});\r\n      console.log(obs);\r\n      //await obs.toPromise();\r\n      if(this.subsData.isGroup) this.wsMessenger.generateSubUserAddedMessage( val['uid'], this.newUser.field_nombre.und[0].value, this.subsData.subscription.field_doctores);\r\n      else await this.subusersManager.cargarSubusuarios();\r\n      this.loader.dismissLoader();\r\n      this.added_user = true;\r\n      if(this.tutorial.checkTutorialState())\r\n      {\r\n        this.tutorial.usuarioCreated = true;\r\n        this.newuser=false;\r\n      }else{\r\n        this.close();\r\n      }\r\n    },\r\n    response => {\r\n      console.log('responsetrail',response);\r\n        for (var key in response.error.form_errors) {\r\n          console.log(key);\r\n          if(key === 'mail'){\r\n            if(response.error.form_errors[key].includes('ya se encuentra en uso')){\r\n              this.alert.presentAlert('¡Upss, tenemos un problema!','El correo que intentas utilizar ya existe, intenta con otro o recupera tu contraseña.');\r\n            }else \r\n            if(response.error.form_errors[key].includes('no es válida')){\r\n              this.alert.presentAlert('¡Upss, tenemos un problema!','El formato de tu correo electrónico no es correcto.');\r\n            }else{\r\n              this.alert.presentAlert('Error','Se ha detectado un error inesperado en el campo '+key);\r\n            }\r\n        \r\n          }else{\r\n            if(!(key === 'field_useremail][und][0')){\r\n          this.alert.presentAlert('Error','Se ha detectado un error inesperado en el campo '+key);\r\n        }\r\n        }\r\n        }\r\n        this.loader.dismissLoader();\r\n      }\r\n  );\r\n}\r\n}\r\n\r\nrestart(){\r\n  this.resetNewUser();\r\n  this.checkpass = \"\";\r\n  this.newUserCode = \"\";\r\n  this.tutorial.usuarioCreated = false;\r\n}\r\n\r\ncreateUserValidation():boolean{\r\n  let ret = true;\r\n  if( !this.userData.checkUserPlanHolder() ){\r\n    this.alert.presentAlert('Error','Solo el administrador de plan puede crear subcuentas');\r\n    ret = false;\r\n  }\r\n  if( this.userData.checkSusSubaccountsFull() ){\r\n    this.alert.presentAlert('Error','Se llego al limite de subcuentas');\r\n    ret = false;\r\n  }\r\n  if(!(this.newUser.pass.localeCompare(this.checkpass) === 0)){\r\n    this.alert.presentAlert(\"Error\", \"las contraseñas no coinciden\");\r\n    ret = false;\r\n  }\r\n  if(!(this.newUser.mail.localeCompare(this.newUser.field_useremail.und[0].email) === 0)){\r\n    this.alert.presentAlert(\"Error\", \"Los correos no coinciden\");\r\n    ret = false;\r\n  }\r\n  if(this.newUser.field_tipo_de_usuario.und[0] === 0 ){\r\n    this.alert.presentAlert(\"Error\", \"Selecciona un tipo de usuario\");\r\n    ret = false;\r\n  }\r\n  return ret;\r\n}\r\n\r\n\r\ncreaterNotEmptyValidation():boolean{\r\n  let ret = true;\r\n  if(!this.newUser.name){\r\n    ret = false;\r\n  }\r\n  if(!this.newUser.field_alias.und[0].value){\r\n    ret = false;\r\n  }\r\n  if(!ret){\r\n    this.alert.presentAlert(\"Error\", \"Los campos marcados en rojo son obligatorios\");\r\n    this.showerrors = true;\r\n  }\r\n  return ret;\r\n}\r\n\r\n\r\nasync getUserByCode(){\r\n  if(this.getUserCodeValidation()){\r\n  this.loader.presentLoader('Buscando usuario ...');\r\n  let res = await this.userMan.requestUsers(new Array(),this.newUserCode).toPromise();\r\n  if(res && res.length > 0){\r\n    console.log('user found',res[0]);\r\n    //revisar si este usuario esta en una suscripcion de grupo\r\n    let subsdata = await this.subsManager.requestGroupSubscriptionsFor(res[0].uid).toPromise();\r\n    if(subsdata){\r\n      subsdata = subsdata.filter((subs)=>{\r\n        return (Number(subs.field_plan_sus) === Number(SubscriptionDataProvider.PLAN_GROUP) )\r\n      });\r\n      console.log('subsdata got',subsdata.length);\r\n      if(subsdata && subsdata.length > 0){\r\n        this.alert.presentAlert(\"Nada\", \"No se encontró ningún usuario usando este código\");\r\n        this.loader.dismissLoader();\r\n        return false;\r\n      }\r\n    }\r\n    await this.addUserFromCode(res[0]);\r\n    await this.subusersManager.cargarSubusuarios();\r\n    // aqui el usuario ya ha sido agregado a la suscripcion y requiere enviarse un mensaje que relleno los datos del subusuario.\r\n    this.wsMessenger.generateUserByCode( this.subsData.subscription.field_doctores.concat( [res[0].uid] ) ) ;\r\n    this.loader.dismissLoader();\r\n    if(this.tutorial.checkTutorialState())\r\n    {\r\n      this.newUser = res[0];\r\n      this.codeuserNP=true;\r\n      this.codeuser=false;\r\n      this.tutorial.usuarioCreated = true;\r\n    }else{\r\n      this.alert.presentAlert(\"Hecho\",`Se le ha asignado el usuario ${res[0]['name']}`);\r\n      this.added_user = true;    \r\n      this.close();\r\n    }\r\n  }else{\r\n    this.alert.presentAlert(\"Nada\", \"No se encontró ningún usuario usando este código\");\r\n    this.loader.dismissLoader();\r\n  }\r\n\r\n\r\n\r\n\r\n \r\n\r\n/*\r\n  this.userMan.requestUsers(new Array(),this.newUserCode).subscribe(\r\n    (val)=>{ \r\n      console.log(val);\r\n     \r\n      let aux_results = Object.keys(val).map(function (key) { return val[key]; });\r\n      if(aux_results.length == 0){\r\n        dis.presentAlert(\"Nada\", \"No se encontró ningún usuario usando este código\");\r\n        loader.dismiss();\r\n        return false;\r\n      } \r\n      aux_results.forEach(function(element) {\r\n        let aux_user = dis.userData.getEmptyUserd();\r\n        aux_user.uid = element.uid;\r\n        aux_user.name = element.name;\r\n        aux_user.field_alias.und[0].value = element.field_alias;\r\n        aux_user.field_nombre.und[0].value = element.field_nombre;\r\n        aux_user.field_apellidos.und[0].value = element.field_apellidos;\r\n        aux_user.field_useremail.und[0].email = element.field_useremail.email;\r\n        aux_user.mail = element.mail;\r\n        aux_user.status = \"1\";\r\n        aux_user.field_doctores.und = new Array();\r\n        let aux_docs = Object.keys(element.field_doctores).map(function (key) { return element.field_doctores[key]; });\r\n        aux_docs.forEach(function(element){\r\n          aux_user.field_doctores.und.push(element.uid);\r\n        });\r\n        aux_user.field_tipo_de_usuario.und = new Array();\r\n        let aux_tipos = Object.keys(element.field_tipo_de_usuario).map(function (key) { return element.field_tipo_de_usuario[key]; });\r\n        aux_tipos.forEach(function(element){\r\n          aux_user.field_tipo_de_usuario.und.push(element);\r\n        });\r\n        //agregar doctor\r\n        aux_user.field_doctores.und.push(dis.userData.userData.uid);\r\n       //guardar usuario\r\n       console.log(\"guardando usuario\",aux_user);\r\n       //agregando doctor al usuario\r\n          dis.userMan.updateUserd( aux_user).subscribe(\r\n            (val)=>{\r\n              console.log(\"usuarioUpdated\");\r\n              dis.presentToast(\"Usuario Agregado\");\r\n              loader.dismiss();\r\n              dis.close();\r\n            },\r\n            response => {\r\n              console.log(\"POST call in error\", response);\r\n              console.log(\"show error\");\r\n              for (var key in response.error.form_errors) {\r\n                dis.presentAlert(key, response.error.form_errors[key]);\r\n              }\r\n              loader.dismiss();\r\n            }\r\n          );\r\n\r\n     });\r\n    },\r\n     response => {\r\n       console.log(\"POST call in error\", response);\r\n     }\r\n    );*/\r\n  }\r\n}\r\n\r\ngobackuser(){\r\n  console.log('gobackuser',this.isnew);\r\n  console.log('tutorial state is',this.tutorial.checkTutorialState());\r\n  if(this.isnew){\r\n    this.newuser=false; this.codeuser=false; this.initialpage=true;\r\n    if(this.tutorial.checkTutorialState()){\r\n      console.log('setting created step to 0');\r\n      this.tutorial.tutorial_user_created_step = 0;\r\n    }\r\n  }else{\r\n    console.log('okei no es new');\r\n    this.dismiss();\r\n  }\r\n}\r\n\r\ngetUserCodeValidation():boolean{\r\n  let ret = true;\r\n  if((!this.newUserCode) || (this.newUserCode === \"all\") ){\r\n    ret = false;\r\n  }\r\n  return ret;\r\n}\r\n\r\nasync addUserFromCode( user_data ){\r\n  let aux_user = SubusersManagerProvider.getEmptyUserd();\r\n        aux_user.uid = user_data.uid;\r\n        aux_user.name = user_data.name;\r\n        aux_user.field_codigo = user_data.field_codigo;\r\n        aux_user.field_alias.und[0].value = user_data.field_alias;\r\n        aux_user.field_nombre.und[0].value = user_data.field_nombre;\r\n        aux_user.field_apellidos.und[0].value = user_data.field_apellidos;\r\n        aux_user.field_useremail.und[0].email = user_data.field_useremail.email;\r\n        aux_user.mail = user_data.mail;\r\n        aux_user.field_owner.und[0] = user_data.field_owner.uid;\r\n        aux_user.status = \"1\";\r\n        aux_user.field_doctores.und = new Array();\r\n        aux_user.field_tipo_de_usuario.und = new Array();\r\n        for(let element of user_data.field_doctores){ aux_user.field_doctores.und.push(element.uid); }\r\n        delete aux_user.field_tipo_de_usuario;\r\n        delete aux_user.field_sub_id;\r\n        //elete aux_user.field_owner;\r\n        //for(let element of user_data.field_tipo_de_usuario){ aux_user.field_tipo_de_usuario.und.push(element.uid); }for(let element of user_data.field_tipo_de_usuario){ aux_user.field_tipo_de_usuario.und.push(element.uid); }\r\n        aux_user.field_doctores.und.push(Number(this.userData.userData.uid));\r\n        console.log('user2save',aux_user);\r\n        console.log('user2save fdocs',aux_user.field_doctores.und);\r\n        //let res = await this.userMan.updateUserd(aux_user).toPromise(); \r\n        this.userMan.updateUserd( aux_user).subscribe(\r\n          (val)=>{\r\n            console.log(\"usuarioUpdated\");\r\n            if(!this.subsData.subscription.field_subusuarios) this.subsData.subscription.field_subusuarios = new Array();\r\n            this.subsData.subscription.field_subusuarios.push(val['uid']);\r\n            let obs = this.subsManager.updateUserSuscription().subscribe( (val)=>{console.log('updating subs',val);});\r\n          },\r\n          response => {\r\n            console.log(\"POST call in error\", response);\r\n           \r\n          }\r\n        );\r\n          /*this.userMan.updateUserd( aux_user).subscribe(\r\n            (val)=>{\r\n              console.log(\"usuarioUpdated\");\r\n              this.presentToast(\"Usuario Agregado\");\r\n              loader.dismiss();\r\n              dis.close();\r\n            },\r\n            response => {\r\n              console.log(\"POST call in error\", response);\r\n              console.log(\"show error\");\r\n              for (var key in response.error.form_errors) {\r\n                dis.presentAlert(key, response.error.form_errors[key]);\r\n              }\r\n              loader.dismiss();\r\n            }\r\n          );*/\r\n}\r\n\r\n/*\r\nupdating user with this {\"uid\":\"155\",\"name\":\"cinthyaR\",\"pass\":\"\",\"mail\":\"adsd@www.com\",\"status\":\"1\",\"roles\":[0],\"field_tipo_de_usuario\":{\"und\":[\"2\"]},\"field_useremail\":{\"und\":[{\"email\":\"adsd@www.com\"}]},\"field_nombre\":{\"und\":[{\"value\":\"Subusuario\"}]},\"field_apellidos\":{\"und\":[{\"value\":\"Subusuario\"}]},\"field_especialidad\":{\"und\":[{\"value\":\"\"}]},\"field_alias\":{\"und\":[{\"value\":null}]},\"field_calle\":{\"und\":[{\"value\":\"\"}]},\"field_no_ext\":{\"und\":[{\"value\":\"\"}]},\"field_no_int\":{\"und\":[{\"value\":\"\"}]},\"field_codigo_postal\":{\"und\":[{\"value\":\"\"}]},\"field_ciudad\":{\"und\":[{\"value\":\"\"}]},\"field_colonia\":{\"und\":[{\"value\":\"\"}]},\"field_pais\":{\"und\":[{\"value\":\"\"}]},\"field_municipio\":{\"und\":[{\"value\":\"\"}]},\"field_estado_ubicacion\":{\"und\":[{\"value\":\"\"}]},\"field_plan_date\":{\"und\":[{\"value\":{\"date\":\"\"}}]},\"field_forma_pago\":{\"und\":[{\"value\":\"\"}]},\"tutorial_state\":{\"und\":[{\"value\":0}]},\"field_codigo\":\"kQUiKJ1sXviGYzRi8oNxHp94o\",\"field_doctores\":{\"und\":[\"150\",\"76\"]},\"field_planholder\":{\"und\":[{\"value\":true}]},\"field_stripe_customer_id\":{\"und\":[{\"value\":\"\"}]},\"field_src_json_info\":{\"und\":[{\"value\":\"\"}]}}*/\r\n\r\nupdateUserd(){\r\n  if(this.updateUserValidation()){\r\n  this.loader.presentLoader('Guardando usuario ...');\r\n  this.newUser.mail = this.newUser.field_useremail.und[0].email;\r\n  this.newUser.status = \"\"+1;\r\n  delete this.newUser.field_sub_id;\r\n  //this.newUser.field_doctores = {'und':[76]};\r\n  console.log('doctores',this.newUser.field_doctores);\r\n  \r\n  console.log('guardando usuario', this.newUser);\r\n  this.userMan.updateUserd( this.newUser ).subscribe(\r\n    async (val)=>{\r\n      await this.subusersManager.cargarSubusuarios();\r\n      this.loader.dismissLoader();\r\n      this.close();\r\n    },\r\n    response => {\r\n      for (var key in response.error.form_errors) {\r\n        this.alert.presentAlert('Error', 'Se ha detectado un error inesperado en el campo '+key);\r\n      }\r\n      this.loader.dismissLoader();\r\n    }\r\n  );\r\n}\r\n}\r\n\r\nupdateUserValidation():boolean{\r\n  let ret = true;\r\n  if(this.newUser.pass || this.checkpass){\r\n    if(!(this.newUser.pass === this.checkpass)){\r\n      this.alert.presentAlert(\"Error\", \"las contraseñas no coinciden\");\r\n      ret = false;\r\n    }\r\n    \r\n  }\r\n  /*if(this.newUser.field_tipo_de_usuario.und[0] === 0 ){\r\n    this.alert.presentAlert(\"Error\", \"Selecciona un tipo de usuario\");\r\n    ret = false;\r\n  }*/\r\n  return ret;\r\n}\r\n\r\n/*presentToast(msg) {\r\n  let toast = this.toastCtrl.create({\r\n    message: msg,\r\n    duration: 6000,\r\n    position: 'top'\r\n  });\r\n  toast.present();\r\n}*/\r\n\r\nclose( iscreated:boolean = false){\r\n  this.viewCtrl.dismiss({\"changed\":this.added_user});\r\n}\r\n\r\n\r\n\r\n/*presentAlert(key,Msg) {\r\n  let alert = this.alertCtrl.create({\r\n    title: key,\r\n    subTitle: Msg,\r\n    buttons: ['Dismiss']\r\n  });\r\n  alert.present();\r\n}*/\r\n\r\n\r\nrandomCode(){\r\n  var text = \"\";\r\n  var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  for (var i = 0; i < 5; i++)\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  return text;\r\n}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nuevousuario-modal/nuevousuario-modal.ts"],"sourceRoot":""}