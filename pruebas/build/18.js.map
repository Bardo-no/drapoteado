{"version":3,"sources":["../../src/pages/nuevacita-modal/nuevacita-modal.module.ts","../../src/pages/nuevacita-modal/nuevacita-modal.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { NuevacitaModalPage } from './nuevacita-modal';\r\nimport { CalendarModule } from \"ion2-calendar\";\r\nimport { momentPicker } from \"angular-moment-picker\";\r\nimport { DlDateTimePickerDateModule } from 'angular-bootstrap-datetimepicker';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NuevacitaModalPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(NuevacitaModalPage),\r\n    CalendarModule,\r\n    DlDateTimePickerDateModule\r\n  ],\r\n})\r\nexport class NuevacitaModalPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nuevacita-modal/nuevacita-modal.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { UserDataProvider } from '../../providers/user-data/user-data';\r\nimport { Citas } from '../../providers/user-data/citas';\r\nimport { Debugger } from '../../providers/user-data/debugger';\r\nimport { CitasManagerProvider } from '../../providers/citas-manager/citas-manager';\r\nimport { NotificationsManagerProvider } from '../../providers/notifications-manager/notifications-manager';\r\nimport { LoaderProvider } from '../../providers/loader/loader';\r\nimport { AlertProvider } from '../../providers/alert/alert';\r\nimport { WsMessengerProvider } from '../../providers/ws-messenger/ws-messenger';\r\nimport { DoctoresDataProvider } from '../../providers/doctores-data/doctores-data';\r\nimport { PermissionsProvider } from '../../providers/permissions/permissions';\r\n//import * as moment from 'moment';\r\nimport { DateProvider } from '../../providers/date/date';\r\n//import { DlDateTimePickerDateModule } from 'angular-bootstrap-datetimepicker';\r\nimport { Calendar } from '@ionic-native/calendar';\r\nimport { DoctoresManagerProvider } from '../../providers/doctores-manager/doctores-manager';\r\nimport { CitasDataProvider } from '../../providers/citas-data/citas-data';\r\nimport { SubscriptionManagerProvider } from '../../providers/subscription-manager/subscription-manager';\r\nimport { UpdaterProvider } from '../../providers/updater/updater';\r\n\r\n\r\n/**\r\n * Generated class for the NuevacitaModalPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-nuevacita-modal',\r\n  templateUrl: 'nuevacita-modal.html',\r\n})\r\n\r\n\r\n\r\n\r\nexport class NuevacitaModalPage {\r\n  cita:Citas = null;\r\n  isnew:boolean = true;\r\n  selectedDate:string = null;\r\n\r\n  //date: string;\r\n  dateobj:Date;\r\n  selectedHour:number = 0;\r\n  selectedHourISO:string = '';\r\n  type: 'string';\r\n\r\n  hourstring:string = null;\r\n\r\n\r\ndate: Date;\r\ndaysInThisMonth: any;\r\ndaysInLastMonth: any;\r\ndaysInNextMonth: any;\r\nmonthNames: string[];\r\ncurrentMonth: any;\r\ncurrentMonthNum:any;\r\ncurrentYear: any;\r\ncurrentDate: any;\r\n\r\neventList: any;\r\nselectedEvent: any;\r\nisSelected: any;\r\n\r\nhours:any[] = new Array();\r\nhourIntervalMS:number = 30*60*1000;\r\n\r\nshowerrors:boolean = false;\r\n  \r\nhorantr: string = '';\r\n  formatear(evento){\r\n    var hora = this.horantr.replace(':','');\r\n    var arregloHora = hora.match(/.{1,2}/g) ? hora.match(/.{1,2}/g) : [];\r\n    if(arregloHora.length == 2){\r\n      this.horantr = arregloHora.join(':');\r\n    }\r\n    if(this.horantr.length > 5){\r\n      this.horantr = this.horantr.substring(0,5);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public userData: UserDataProvider,\r\n    public viewCtrl: ViewController,\r\n    public citasMan: CitasManagerProvider,\r\n    public notiMan: NotificationsManagerProvider,\r\n    public loader: LoaderProvider,\r\n    public alert: AlertProvider,\r\n    public wsMessenger: WsMessengerProvider,\r\n    public docData: DoctoresDataProvider,\r\n    public docMan: DoctoresManagerProvider,\r\n    public permissions: PermissionsProvider,\r\n    public dateP: DateProvider,\r\n    private calendar: Calendar,\r\n    public citasData: CitasDataProvider,\r\n    public subscriptionManager:SubscriptionManagerProvider,\r\n    public updater: UpdaterProvider\r\n  ) {\r\n    \r\n    /** \r\n     * Al entrar seteas la fecha a este momento:\r\n     *  setear dia de hoy en calendario\r\n     *  setear intervalo en las horas correspondiente a esta hora.\r\n     *\r\n     * **/\r\n    console.log('GETTING CITA', navParams.get('cita'));\r\n    let aux_node = navParams.get('cita');\r\n    if(aux_node){\r\n      this.cita = aux_node;\r\n      Debugger.log(['cita en modal es',this.cita]);\r\n      this.isnew = false;\r\n      //this.selectedDate = Citas.getLocalDateIso(new Date(this.cita.data.field_datemsb['und'][0]['value']));//new Date().toISOString();\r\n      this.selectedHourISO = Citas.getLocalDateIso(new Date(this.cita.data.field_datemsb['und'][0]['value']));//new Date().toISOString();\r\n      this.dateobj = new Date(this.cita.data.field_datemsb['und'][0]['value']);\r\n      let dateobj_start = new Date(this.cita.data.field_datemsb['und'][0]['value']);\r\n      dateobj_start.setHours(0,0,0,0);\r\n      this.selectedHour = this.dateobj.getTime() - dateobj_start.getTime();\r\n      console.log('selected hour is:', this.selectedHour);\r\n      console.log(this.selectedDate);\r\n      this.setHourstring();\r\n    }else{\r\n      this.isnew = true;\r\n      this.resetNewCita();\r\n      this.cita.date = new Date();\r\n      this.dateobj = new Date();\r\n      this.selectedHour = 0;\r\n   \r\n      //this.selectedDate = Citas.getLocalDateIso(new Date());//new Date().toISOString();\r\n      this.selectedHourISO = Citas.getLocalDateIso(this.getDateOnNextTreshold());//new Date().toISOString();\r\n     \r\n    }\r\n    if(Number(this.cita.data.field_telefono.und[0].value) === 0){\r\n      this.cita.data.field_telefono.und[0].value = null;\r\n    }\r\n  }\r\n\r\n  setHours(){\r\n  \r\n \r\n    \r\n  }\r\n\r\n  setHourstring(){\r\n    console.log('trailsh setHourstring start');\r\n    \r\n    if(!this.isnew){\r\n      console.log('trailsh setting hours');\r\n      let aux_date = new Date(this.cita.dateMs);\r\n      this.horantr = `${DateProvider.formatDateBinaryNumber(aux_date.getHours())}:${DateProvider.formatDateBinaryNumber(aux_date.getMinutes())}`;\r\n      //this.hourstring = aux_date.getHours()+':'+aux_date.getMinutes();\r\n      //console.log('trailsh setting hours' , this.hourstring,aux_date);\r\n    }\r\n  }\r\n\r\n  hourDisplay(hourMs):string{\r\n    let ret = \"\";\r\n    return DateProvider.getDisplayableHourfMS(hourMs);\r\n  }\r\n\r\n  checkSelectedHour(hour):boolean{\r\n    let ret = false;\r\n    //if(this.selectedHour >= hour && this.selectedHour < hour+(this.hourIntervalMS)) ret =  true;\r\n    if(DateProvider.isDateBetweenNumber( this.selectedHour, hour,hour+(this.hourIntervalMS) ) ) ret = true;\r\n    return ret;\r\n  }\r\n\r\n\r\n\r\n  ionViewWillEnter() {\r\n    this.calendarLoad();\r\n  }\r\n\r\n  datechange($event) {\r\n    this.cita.date = $event;\r\n    //console.log($event);\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n  resetNewCita(){\r\n    this.cita = new Citas();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('trailsh ionViewDidLoad NuevacitaModalPage');\r\n    //console.log('ionViewWillEnter');\r\n \r\n    //this.calendarLoad();\r\n  }\r\n\r\n  getDisplayableDates(){\r\n    return DateProvider.getDisplayableDates( this.cita.date);\r\n  }\r\n\r\n  choseHourClick(hour){\r\n    console.log(hour);\r\n    this.selectedHour = hour;\r\n  }\r\n\r\n  async createCita(){\r\n    if(!this.basicNewCitaValidation()){ return false; }\r\n    \r\n    if(!this.notEmptyNewCitaValidation()){ return false; } \r\n    this.setCitaDateFromiNPUT();\r\n    if(!this.citaDateValidation()){ return false; }\r\n    \r\n    this.loader.presentLoader('creando cita...');\r\n    this.cita.data.field_estado.und[\"0\"].value = 0;\r\n    if(this.userData.checkUserPermission([this.userData.TIPO_DOCTOR])){\r\n      this.cita.data.field_cita_doctor.und[0]=this.userData.userData.uid;\r\n  \r\n    }\r\n      this.cita.data.field_cita_recepcion.und[0]=this.userData.userData.uid; //esto es quien creo la cita\r\n      this.cita.data.field_cita_caja.und[0]=\"_none\"; //quien cobro la cita\r\n      this.cita.caja_playerid = null;\r\n      this.cita.data.field_servicios_cita.und = []; //limpiamos los servicios porque nos deja basura\r\n    await this.citasMan.generateNewCita( this.cita.data ).subscribe(\r\n    (val)=>{\r\n      console.log(val.nid);\r\n      this.notiMan.generateNotification([this.cita.data.field_cita_doctor.und[0]],`Nueva Cita con ${this.cita.paciente} fecha: ${new Date(this.cita.data.field_datemsb['und'][0]['value'])}`,`cita-${this.cita.Nid}`);\r\n      this.cita.data.Nid = val.nid;\r\n      this.cita.Nid = val.nid;\r\n      this.wsMessenger.generateWSupdateMessage(this.cita);\r\n    },\r\n    response => {\r\n        console.log(\"POST call in error\", response);\r\n        console.log(\"show error\");\r\n        for (var key in response.error.form_errors) {\r\n          this.alert.presentAlert('Error', 'Se ha detectado un error inesperado en '+key);\r\n        }\r\n      }\r\n  );\r\n  //await this.docMan.pushDisponivilidad(this.cita.data.field_cita_doctor.und[0], this.cita.data.field_datemsb['und'][0]['value'] );\r\n  //await this.citasMan.requestCitas().toPromise();\r\n  this.loader.dismissLoader();\r\n  this.close();\r\n}\r\n\r\nnotEmptyNewCitaValidation(){\r\n  let ret = true;\r\n  console.log('notEmptyNewCitaValidation');\r\n  if(!this.checkIfInputfilledNPromtp(this.cita.data.field_paciente.und[0].value,ret)) ret = false;\r\n  //no hace falta revisar el doctor, porque ese ya esta validado.\r\n  if(!this.checkIfInputfilledNPromtp(this.horantr,ret)) ret = false;\r\n  return ret;\r\n}\r\n\r\ncheckIfInputfilledNPromtp( input , actualret){\r\n  let ret = true;\r\n  console.log('enter');\r\n  if(!actualret){ return false;} ;\r\n  console.log('checkIfInputfilledNPromtp',input,input === null , input ? false : true );\r\n  if( input ? false : true ){\r\n    console.log('this input is not filled mf',input);\r\n    ret = false;\r\n    this.alert.presentAlert('Error','Revisar los campos marcados en rojo.');\r\n    this.showerrors = true;\r\n  }\r\n  return ret;\r\n}\r\n\r\nbasicNewCitaValidation(){\r\n  let ret = true;\r\n  if(this.cita.data.field_telefono.und[0].value === null){\r\n    this.cita.data.field_telefono.und[0].value = 0;\r\n  }\r\n  \r\n\r\n  if(this.userData.checkUserPermission([this.userData.TIPO_DOCTOR])){\r\n  }\r\n  else{\r\n    if( Number(this.cita.data.field_cita_doctor.und[0]) === 0 ){\r\n      this.alert.presentAlert('Error','Debe elegir un doctor para esta cita');\r\n      this.showerrors = true;\r\n      console.log('showerrors',this.showerrors);\r\n      ret = false;\r\n    }\r\n  }\r\n  return ret;\r\n}\r\n\r\ncitaDateValidation():boolean{\r\n  let ret = true;\r\n  console.log('citaDateValidation',this.cita.data.field_datemsb);\r\n  console.log('citaDateValidation',new Date(this.cita.data.field_datemsb['und'][0]['value']));\r\n  console.log('this.hourstring',this.horantr);\r\n  if(this.cita.data.field_datemsb['und'][0]['value'] < new Date().getTime()){\r\n    console.log('elegir fecha a futuro.');\r\n    this.alert.presentAlert('Error','Debe elegir una fecha a futuro');\r\n    ret = false;\r\n  }\r\n  if(!DateProvider.validateHhMm(this.horantr)){\r\n    console.log('la hora esta mal',this.horantr);\r\n    this.alert.presentAlert('Error','Formato de hora incorrecto');\r\n    ret = false;\r\n  }\r\n  return ret;\r\n}\r\n\r\ngetDateOnNextTreshold():Date{\r\n  let aux_date = new Date();\r\n  if(aux_date.getMinutes()%15 !== 0){\r\n    console.log('noes15');\r\n    let min = 15* Math.ceil(aux_date.getMinutes()/15);\r\n    if(min >= 60){\r\n      aux_date.setMinutes(0);\r\n      aux_date = new Date(aux_date.getTime() + ( 60*60*1000 ));\r\n    }else{\r\n      aux_date.setMinutes(min);\r\n    }\r\n  }else{\r\n    console.log('es15');\r\n  }\r\n  return aux_date;\r\n}\r\n\r\nasync updateCita(){\r\n  //poner que el websocket envie la informacion al updatear cita morro >=0\r\n  if(!this.citaDateValidation()){ return false; }\r\n  if(this.cita.data.field_telefono.und[0].value === null){\r\n    this.cita.data.field_telefono.und[0].value = 0;\r\n  }\r\n  this.setCitaDateFromiNPUT();\r\n  this.loader.presentLoader('actualizando ...');\r\n  await this.citasMan.updateCita( this.cita.data ).subscribe(\r\n    (val)=>{\r\n      this.wsMessenger.generateWSupdateMessage(this.cita);    \r\n    },\r\n    response => {\r\n      console.log(\"POST call in error\", response);\r\n      console.log(\"show error\");\r\n      for (var key in response.error.form_errors) {\r\n        this.alert.presentAlert('Error', 'Se ha detectado un error inesperado en '+key);\r\n      }\r\n    }\r\n  );\r\n  this.loader.dismissLoader();\r\n  this.close();\r\n}\r\n\r\n\r\nclose(){\r\n  this.viewCtrl.dismiss();\r\n}\r\n\r\n\r\n\r\nsetCitaDateFromiNPUT(){\r\n  //get the timezoned input and put it on utc on this format 2018-07-04 14:30:00-07:00 to set data using citas code\r\n  //Debugger.log(['string that not works now is',this.selectedDate],false);\r\n  //this.cita.setDate(this.selectedDate,true);\r\n  //OLD CODE FROM IONIC DATEPICKER\r\n  /*let now = new Date();\r\n  Debugger.log([this.selectedDate]);\r\n  let auxdate = new Date(this.selectedDate);\r\n  Debugger.log([`times dif are now ${now.getTime()} vs sel ${auxdate.getTime()}`]);\r\n  Debugger.log([`offset is`,new Date().getTimezoneOffset()]);\r\n  let dateUT = auxdate.getTime();\r\n  const offset = (new Date().getTimezoneOffset() * 60 * 1000 * 2); // offset is in minutes so 60 * 1000 to get  milliseconds\r\n  dateUT = dateUT + offset;\r\n  this.cita.setDateUT(dateUT);\r\n  this.cita.data.field_datemsb['und'][0]['value'] = dateUT;\r\n  Debugger.log([`saving ${dateUT} for ${new Date(dateUT)}`]);*/\r\n\r\n  //CODE FOR CALENDAR PICKER\r\n  /*let aux_date = new Date(this.dateobj.getTime());\r\n  aux_date.setHours(0,0,0,0);\r\n  aux_date = new Date(aux_date.getTime()+this.selectedHour);\r\n  console.log('settingdateinput is',aux_date);\r\n  let dateUT = aux_date.getTime();//this.aux_date.getTime();\r\n  this.cita.setDateUT(dateUT);\r\n  this.cita.data.field_datemsb['und'][0]['value'] = dateUT;*/\r\n\r\n \r\n  \r\n  //console.log('originaltime ', new Date().getTime() );\r\n  //console.log('-----------------------------' );\r\n  //console.log('obtained', aux_hour_date.getTime() );\r\n  //console.log('offset',new Date().getTimezoneOffset() * 60 * 1000);\r\n \r\n  //console.log('-offset',aux_hour_date.getTime()  - (new Date().getTimezoneOffset() * 60 * 1000));\r\n  //let min = (aux_hour_date.getHours() * 60) + ( aux_hour_date.getMinutes() );\r\n  //console.log('minutos obtenidos',min, min/60);\r\n  \r\n  //aux_date = new Date(aux_date.getTime()+this.selectedHour);\r\n  /*console.log('selectedHourIso is',this.selectedHourISO);\r\n  let auxdatehour = new Date(this.selectedHourISO);\r\n  console.log('selecteddate is',auxdatehour);\r\n  let hours = DateProvider.getDayHours(auxdatehour);\r\n  console.log('setting date is', new Date(aux_date.getTime() + hours));\r\n  console.log('hours pulled', hours);\r\n  console.log('settingdateinput is',aux_date);\r\n  const offset = (new Date().getTimezoneOffset() * 60 * 1000 * 2); // offset is in minutes so 60 * 1000 to get  milliseconds\r\n  let dateUT = aux_date.getTime();\r\n  dateUT = dateUT + offset + hours;\r\n  console.log('dateUTset is',new Date(dateUT));\r\n  this.cita.setDateUT(dateUT);\r\n  this.cita.data.field_datemsb['und'][0]['value'] = dateUT;*/\r\n  \r\n   //CODE FOR CALENDAR AND HOUR PICKER\r\n  //obtenemos la fecha sin horas.\r\n  let aux_date = new Date(this.dateobj.getTime());\r\n  aux_date.setHours(0,0,0,0);\r\n  console.log('dia sin horas',aux_date);\r\n\r\n  //obtenemos las horas em ms\r\n  /*\r\n  console.log('selectedisohour',this.selectedHourISO);\r\n  let aux_hour_date = new Date(this.selectedHourISO);\r\n  aux_hour_date = new Date(aux_hour_date.getTime()  + (new Date().getTimezoneOffset() * 60 * 1000 * 2));\r\n  console.log(aux_hour_date);\r\n  let ms =  (aux_hour_date.getHours()*60*60*1000)+(aux_hour_date.getMinutes()*60*1000);\r\n  console.log('HOUR MS',ms,ms/(1000*60*60));*/\r\n  //NO USAMOS ESTE CODIGO YA PORQUE YA NO QUIEREN EL IONIC HOUR INPUT HERMOSO QUE HICE. putos.\r\n\r\n  console.log('hour string',this.horantr);\r\n  let ms = Number(this.horantr.split(':')[0])*60*60*1000;\r\n  ms += Number(this.horantr.split(':')[1])*60*1000;\r\n  console.log('MSAdded',ms);\r\n  \r\n  let final_date_UT = aux_date.getTime() + ms;\r\n  console.log('final date is', new Date(final_date_UT));\r\n  this.cita.setDateUT(final_date_UT);\r\n  this.cita.data.field_datemsb['und'][0]['value'] = final_date_UT;\r\n}\r\n\r\n\r\n\r\n\r\ncalendarLoad(){\r\n  this.date = new Date();\r\n    this.monthNames = [\"Enero\",\"Febrero\",\"Marzo\",\"Abril\",\"Mayi\",\"Junio\",\"Julio\",\"Augosto\",\"Septiembre\",\"Octubre\",\"Noviembre\",\"Dicimbre\"];\r\n    this.getDaysOfMonth();\r\n    //this.loadEventThisMonth();\r\n}\r\n\r\n\r\ngetDaysOfMonth() {\r\n  this.daysInThisMonth = new Array();\r\n  this.daysInLastMonth = new Array();\r\n  this.daysInNextMonth = new Array();\r\n  this.currentMonth = this.monthNames[this.date.getMonth()];\r\n  this.currentMonthNum = this.date.getMonth();\r\n  this.currentYear = this.date.getFullYear();\r\n  if(this.date.getMonth() === this.dateobj.getMonth()) {\r\n    this.currentDate = this.dateobj.getDate();\r\n  } else {\r\n    this.currentDate = 999;\r\n  }\r\n\r\n  var firstDayThisMonth = new Date(this.date.getFullYear(), this.date.getMonth(), 1).getDay();\r\n  var prevNumOfDays = new Date(this.date.getFullYear(), this.date.getMonth(), 0).getDate();\r\n  for(var i = prevNumOfDays-(firstDayThisMonth-1); i <= prevNumOfDays; i++) {\r\n    this.daysInLastMonth.push(i);\r\n  }\r\n\r\n  var thisNumOfDays = new Date(this.date.getFullYear(), this.date.getMonth()+1, 0).getDate();\r\n  for (var i = 0; i < thisNumOfDays; i++) {\r\n    this.daysInThisMonth.push(i+1);\r\n  }\r\n\r\n  var lastDayThisMonth = new Date(this.date.getFullYear(), this.date.getMonth()+1, 0).getDay();\r\n  var nextNumOfDays = new Date(this.date.getFullYear(), this.date.getMonth()+2, 0).getDate();\r\n  for (var i = 0; i < (6-lastDayThisMonth); i++) {\r\n    this.daysInNextMonth.push(i+1);\r\n  }\r\n  var totalDays = this.daysInLastMonth.length+this.daysInThisMonth.length+this.daysInNextMonth.length;\r\n  if(totalDays<36) {\r\n    for(var i = (7-lastDayThisMonth); i < ((7-lastDayThisMonth)+7); i++) {\r\n      this.daysInNextMonth.push(i);\r\n    }\r\n  }\r\n}\r\n\r\nchosedayClick( day ){\r\n  let datex = new Date();\r\n  datex.setFullYear(this.currentYear,this.currentMonthNum,day);\r\n  this.currentDate = datex.getDate();\r\n  this.dateobj = datex;\r\n  this.date = datex;\r\n}\r\n\r\ngoToLastMonth() {\r\n  this.date = new Date(this.date.getFullYear(), this.date.getMonth(), 0);\r\n  this.getDaysOfMonth();\r\n}\r\n\r\ngoToNextMonth() {\r\n  this.date = new Date(this.date.getFullYear(), this.date.getMonth()+2, 0);\r\n  this.getDaysOfMonth();\r\n}\r\n\r\nasync updateDoctores(){\r\n  this.loader.presentLoader('Cargando Doctores...');\r\n  await this.updater.updateSuscription();\r\n  await this.updater.updateDocList();\r\n  this.loader.dismissLoader();\r\n  /*this.loader.presentLoader('Cargando Doctores...');\r\n  var uid = this.userData.userData.uid;\r\n  this.userData.loginSetData(uid);\r\n  this.docData.cleanDoctor();\r\n  await this.subscriptionManager.loadGroupSubuserSubs();\r\n  //console.log(\"UNIDO Y DIFERENTE\",JSON.stringify(this.docData.doctores));\r\n  await this.docMan.loadGroupDoctors();\r\n  //console.log(\"UNIDO Y DIFERENTE\",JSON.stringify(this.docData.doctores));\r\n  await this.docMan.initDoctoresUids();\r\n  //console.log(\"UNIDO Y DIFERENTE\",JSON.stringify(this.docData.doctores));\r\n  await this.subscriptionManager.loadDoctorsSubscriptions();\r\n  //console.log(\"UNIDO Y DIFERENTE\",JSON.stringify(this.docData.doctores));\r\n  this.docMan.filterActiveDoctors();\r\n  this.loader.dismissLoader();*/\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n/**\r\n * Esto de aquí es para que el date me de el toisostring en la hora de aquí\r\n *  **/\r\n/*\r\nDate.prototype.toISOString = function() {\r\n  var tzo = -this.getTimezoneOffset(),\r\n      dif = tzo >= 0 ? '+' : '-',\r\n      pad = function(num) {\r\n          var norm = Math.floor(Math.abs(num));\r\n          return (norm < 10 ? '0' : '') + norm;\r\n      };\r\n  return this.getFullYear() +\r\n      '-' + pad(this.getMonth() + 1) +\r\n      '-' + pad(this.getDate()) +\r\n      'T' + pad(this.getHours()) +\r\n      ':' + pad(this.getMinutes()) +\r\n      ':' + pad(this.getSeconds()) +\r\n      dif + pad(tzo / 60) +\r\n      ':' + pad(tzo % 60);\r\n}*/\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nuevacita-modal/nuevacita-modal.ts"],"sourceRoot":""}