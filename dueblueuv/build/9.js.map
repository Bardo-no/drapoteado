{"version":3,"sources":["../../src/pages/nuevousuario-modal/nuevousuario-modal.module.ts","../../src/pages/nuevousuario-modal/nuevousuario-modal.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { NuevousuarioModalPage } from './nuevousuario-modal';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NuevousuarioModalPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(NuevousuarioModalPage),\r\n  ],\r\n})\r\nexport class NuevousuarioModalPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nuevousuario-modal/nuevousuario-modal.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController, ViewController, AlertController } from 'ionic-angular';\r\nimport { userd, UserDataProvider } from '../../providers/user-data/user-data';\r\nimport { Debugger } from '../../providers/user-data/debugger';\r\nimport { DrupalUserManagerProvider } from '../../providers/drupal-user-manager/drupal-user-manager';\r\n\r\n/**\r\n * Generated class for the NuevousuarioModalPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-nuevousuario-modal',\r\n  templateUrl: 'nuevousuario-modal.html',\r\n})\r\nexport class NuevousuarioModalPage {\r\n  initialpage = true;\r\n  newuser = false;\r\n  newUser:userd;\r\n  isnew:boolean;\r\n  checkpass:string;\r\n  newUserCode:string;\r\n  codeuser=false;\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public userData: UserDataProvider,\r\n    public loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController,\r\n    public viewCtrl: ViewController,\r\n    public alertCtrl: AlertController,\r\n    public userMan: DrupalUserManagerProvider,\r\n\r\n  ) {\r\n    console.log('GETTING userd', navParams.get('userd'));\r\n    let aux_node = navParams.get('userd');\r\n    if(aux_node){\r\n      this.isnew = false;\r\n      this.newUser = this.userData.getEmptyUserd();\r\n      this.newUser = aux_node;\r\n      this.initialpage = false;\r\n      this.newuser = true;\r\n    }else{\r\n      this.isnew = true;\r\n      this.resetNewUser();\r\n    }\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n\r\n  resetNewUser(){\r\n    this.newUser = this.userData.getEmptyUserd();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad NuevousuarioModalPage');\r\n  }\r\n\r\n\r\n\r\n  createUserd(){\r\n    let loader = this.loadingCtrl.create({\r\n      content: \"Generando Usuario\"\r\n    }); \r\n    loader.present();\r\n    //validating if posible\r\n    if( !this.userData.checkUserPlanHolder() ){\r\n      loader.dismiss();\r\n      this.presentAlert('Error','Solo el administrador de plan puede crear subcuentas');\r\n      this.close();\r\n      return 0;\r\n    }\r\n    if( this.userData.checkSusSubaccountsFull() ){\r\n      loader.dismiss();\r\n      this.presentAlert('Error','Se llego al limite de subcuentas');\r\n      this.close();\r\n      return 0;\r\n    }\r\n    Debugger.log([\"creating an user \",this.newUser]);\r\n    //revisar contraseñas\r\n    if(!(this.newUser.pass.localeCompare(this.checkpass) === 0)){\r\n      this.presentAlert(\"Error\", \"las contraseñas no coinciden\");\r\n      loader.dismiss();\r\n      return 0;\r\n    }\r\n    if(!(this.newUser.mail.localeCompare(this.newUser.field_useremail.und[0].email) === 0)){\r\n      this.presentAlert(\"Error\", \"Los correos no coinciden\");\r\n      loader.dismiss();\r\n      return 0;\r\n    }\r\n    //agregar este doctor.\r\n    this.newUser.field_doctores.und = new Array(); \r\n    this.newUser.field_doctores.und[this.userData.userData.uid] = this.userData.userData.uid;\r\n    //crear codigo, verificar que sea unique = S\r\n    this.newUser.field_codigo.und[0].value = \"add\"+this.userData.userData.uid;\r\n    this.newUser.field_nombre.und[0].value = \"Subusuario\";\r\n    this.newUser.field_apellidos.und[0].value = \"Subusuario\";\r\n    this.newUser.status = \"\"+1;\r\n    delete this.newUser.field_sub_id;\r\n    this.userMan.generateNewUserd( this.newUser ).subscribe(\r\n    (val)=>{\r\n      Debugger.log(['generated user returned',val]);\r\n      if(!this.userData.subscription.field_subusuarios) this.userData.subscription.field_subusuarios = new Array();\r\n      this.userData.subscription.field_subusuarios.push(val['uid']);\r\n      /*this.userData.updateSus(this.userData.subscription).subscribe(\r\n        (val) => {\r\n          Debugger.log(['updated subscription returned',val]);\r\n        },\r\n        response => { \r\n          Debugger.log(['error on saving subscription for new user',response]);\r\n        }\r\n      );*/\r\n      this.presentToast(\"Completado\");\r\n      loader.dismiss();\r\n      this.close();\r\n    },\r\n    response => {\r\n        for (var key in response.error.form_errors) {\r\n          this.presentAlert(key, response.error.form_errors[key]);\r\n          //this.presentToast(response.error.form_errors[key]);\r\n          //console.log(key, response.error.form_errors[key]);\r\n        }\r\n        loader.dismiss();\r\n      }\r\n  );\r\n}\r\n\r\ngetUserByCode(){\r\n  if((!this.newUserCode) || (this.newUserCode === \"all\") ){\r\n    console.log(\"all or empty is not valid mf\");\r\n    return false;\r\n  }\r\n  let loader = this.loadingCtrl.create({\r\n    content: \"Guardando . . .\"\r\n  });\r\n  let dis = this;\r\n  this.userMan.requestUsers(new Array(),this.newUserCode).subscribe(\r\n    (val)=>{ \r\n      console.log(val);\r\n     \r\n      let aux_results = Object.keys(val).map(function (key) { return val[key]; });\r\n      if(aux_results.length == 0){\r\n        dis.presentAlert(\"Nada\", \"No se encontró ningún usuario usando este código\");\r\n        loader.dismiss();\r\n        return false;\r\n      } \r\n      aux_results.forEach(function(element) {\r\n        let aux_user = dis.userData.getEmptyUserd();\r\n        aux_user.uid = element.uid;\r\n        aux_user.name = element.name;\r\n        aux_user.field_alias.und[0].value = element.field_alias;\r\n        aux_user.field_nombre.und[0].value = element.field_nombre;\r\n        aux_user.field_apellidos.und[0].value = element.field_apellidos;\r\n        aux_user.field_useremail.und[0].email = element.field_useremail.email;\r\n        aux_user.mail = element.mail;\r\n        aux_user.status = \"1\";\r\n        aux_user.field_doctores.und = new Array();\r\n        let aux_docs = Object.keys(element.field_doctores).map(function (key) { return element.field_doctores[key]; });\r\n        aux_docs.forEach(function(element){\r\n          aux_user.field_doctores.und.push(element.uid);\r\n        });\r\n        aux_user.field_tipo_de_usuario.und = new Array();\r\n        let aux_tipos = Object.keys(element.field_tipo_de_usuario).map(function (key) { return element.field_tipo_de_usuario[key]; });\r\n        aux_tipos.forEach(function(element){\r\n          aux_user.field_tipo_de_usuario.und.push(element);\r\n        });\r\n        //agregar doctor\r\n        aux_user.field_doctores.und.push(dis.userData.userData.uid);\r\n       //guardar usuario\r\n       console.log(\"guardando usuario\",aux_user);\r\n       //agregando doctor al usuario\r\n          dis.userMan.updateUserd( aux_user).subscribe(\r\n            (val)=>{\r\n              console.log(\"usuarioUpdated\");\r\n              dis.presentToast(\"Usuario Agregado\");\r\n              loader.dismiss();\r\n              dis.close();\r\n            },\r\n            response => {\r\n              console.log(\"POST call in error\", response);\r\n              console.log(\"show error\");\r\n              for (var key in response.error.form_errors) {\r\n                dis.presentAlert(key, response.error.form_errors[key]);\r\n              }\r\n              loader.dismiss();\r\n            }\r\n          );\r\n\r\n     });\r\n    },\r\n     response => {\r\n       console.log(\"POST call in error\", response);\r\n     }\r\n    );\r\n}\r\n\r\nupdateUserd(){\r\n  let loader = this.loadingCtrl.create({\r\n    content: \"Guardando . . .\"\r\n  });\r\n  loader.present();\r\n  if(this.newUser.pass || this.checkpass){\r\n  if(!(this.newUser.pass === this.checkpass)){\r\n    this.presentAlert(\"Error\", \"las contraseñas no coinciden\");\r\n    loader.dismiss();\r\n    return 0;\r\n  }\r\n}\r\n  this.newUser.mail = this.newUser.field_useremail.und[0].email;\r\n  this.newUser.status = \"\"+1;\r\n  delete this.newUser.field_sub_id;\r\n  console.log(\"updating\",this.newUser);\r\n  this.userMan.updateUserd( this.newUser ).subscribe(\r\n    (val)=>{\r\n      console.log(\"usuarioUpdated\");\r\n      this.presentToast(\"Completado\");\r\n      loader.dismiss();\r\n      this.close();\r\n    },\r\n    response => {\r\n      console.log(\"POST call in error\", response);\r\n      console.log(\"show error\");\r\n      for (var key in response.error.form_errors) {\r\n        this.presentAlert(key, response.error.form_errors[key]);\r\n      }\r\n      loader.dismiss();\r\n    }\r\n  );\r\n}\r\n\r\npresentToast(msg) {\r\n  let toast = this.toastCtrl.create({\r\n    message: msg,\r\n    duration: 6000,\r\n    position: 'top'\r\n  });\r\n  toast.present();\r\n}\r\n\r\nclose(){\r\n  this.viewCtrl.dismiss();\r\n}\r\n\r\npresentAlert(key,Msg) {\r\n  let alert = this.alertCtrl.create({\r\n    title: key,\r\n    subTitle: Msg,\r\n    buttons: ['Dismiss']\r\n  });\r\n  alert.present();\r\n}\r\n\r\n\r\nrandomCode(){\r\n  var text = \"\";\r\n  var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  for (var i = 0; i < 5; i++)\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  return text;\r\n}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/nuevousuario-modal/nuevousuario-modal.ts"],"sourceRoot":""}