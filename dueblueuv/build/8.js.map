{"version":3,"sources":["../../src/pages/progresocita-modal/progresocita-modal.module.ts","../../src/pages/progresocita-modal/progresocita-modal.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ProgresocitaModalPage } from './progresocita-modal';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProgresocitaModalPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ProgresocitaModalPage),\r\n  ],\r\n})\r\nexport class ProgresocitaModalPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/progresocita-modal/progresocita-modal.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, ViewController, AlertController } from 'ionic-angular';\r\nimport { UserDataProvider } from '../../providers/user-data/user-data';\r\nimport { Citas } from '../../providers/user-data/citas';\r\nimport { servicios } from '../../providers/user-data/servicios';\r\nimport { Doctores } from '../../providers/user-data/doctores';\r\nimport { CitasManagerProvider } from '../../providers/citas-manager/citas-manager';\r\nimport { NotificationsManagerProvider } from '../../providers/notifications-manager/notifications-manager';\r\nimport { LoaderProvider } from '../../providers/loader/loader';\r\nimport { AlertProvider } from '../../providers/alert/alert';\r\nimport { CitasDataProvider } from '../../providers/citas-data/citas-data';\r\nimport { CitasPresentatorProvider } from '../../providers/citas-presentator/citas-presentator';\r\nimport { CitaProgressControllerProvider } from '../../providers/cita-progress-controller/cita-progress-controller';\r\nimport { PermissionsProvider } from '../../providers/permissions/permissions';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-progresocita-modal',\r\n  templateUrl: 'progresocita-modal.html',\r\n})\r\nexport class ProgresocitaModalPage {\r\n \r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams, \r\n    public userData: UserDataProvider,\r\n    public loader: LoaderProvider,\r\n    public viewCtrl: ViewController,\r\n    public alert: AlertProvider,\r\n    public citasData: CitasDataProvider,\r\n    public citasMan: CitasManagerProvider,\r\n    public notiMan: NotificationsManagerProvider,\r\n    public citasPresentator: CitasPresentatorProvider,\r\n    public progressController: CitaProgressControllerProvider,\r\n    public permissions: PermissionsProvider\r\n  ) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.progressController.evalServicios();\r\n  }\r\n\r\n  ionViewWillLeave(){\r\n      this.progressController.stopInterval();\r\n  }\r\n\r\n      finalizarPop(){\r\n        let exmsg = '';\r\n        if(Number(this.progressController.activeCita.addedServices.length) === 0){ exmsg = 'Aun no se ha agregado ningún servicio a esta cita';}\r\n        this.alert.chooseAlert(\r\n          'Finalizar',\r\n          `Está seguro de que desea Finalizar la consulta? ${exmsg}`,\r\n          ()=>{ this.finalizarActualCita(); },\r\n          ()=>{}\r\n        );\r\n      }\r\n\r\n      async finalizarActualCita(){\r\n        this.progressController.finalizarCitaActiva();\r\n        await this.citasPresentator.updateStateRequest( this.progressController.activeCita ,CitasDataProvider.STATE_COBRO );\r\n      }\r\n\r\n      pagadaPop(){\r\n        let title = 'Pagada';\r\n        let msg = '¿Está seguro de que desea marcar esta cita como pagada?';\r\n        \r\n        if(this.progressController.CantidadRestante > 0){\r\n          title = 'Cuidado';\r\n          msg = '¿Está seguro de que desea marcar esta cita como pagada con la cantidad insuficiente?';\r\n        }\r\n          this.alert.chooseAlert(\r\n            title,\r\n            msg,\r\n            ()=>{ this.pagarActualCita() },\r\n            ()=>{}\r\n          );\r\n      }\r\n\r\n      async pagarActualCita(){\r\n        this.progressController.pagarCitaActiva();\r\n        await this.citasPresentator.updateStateRequest(this.progressController.activeCita ,CitasDataProvider.STATE_FINALIZADA );\r\n        this.close();\r\n      }\r\n\r\n  \r\n      close(){\r\n        this.viewCtrl.dismiss();\r\n      }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/progresocita-modal/progresocita-modal.ts"],"sourceRoot":""}